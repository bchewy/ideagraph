## Codebase Patterns
- Next.js 16 with App Router, src directory, TypeScript
- Tailwind CSS v4 configured via PostCSS (`@tailwindcss/postcss`)
- shadcn/ui initialized with `components.json`, components live in `src/components/ui/`
- Path alias `@/*` maps to `src/*`
- `npm run typecheck` runs `npx tsc --noEmit`
- Geist font loaded via `next/font/google` in root layout
- Drizzle ORM with better-sqlite3: connection in `src/lib/db/index.ts`, schema in `src/lib/db/schema.ts`
- drizzle.config.ts points schema to `./src/lib/db/schema.ts`, migrations output to `./drizzle/`
- SQLite database file at `./sqlite.db` (gitignored), WAL mode enabled

---

## 2026-02-03 - US-001
- Scaffolded Next.js 16.1.6 project with App Router, TypeScript, Tailwind CSS v4
- Initialized shadcn/ui with Button and Card components
- Updated root layout with IdeaGraph metadata
- Updated home page to use shadcn/ui components
- Files changed: package.json, tsconfig.json, next.config.ts, postcss.config.mjs, eslint.config.mjs, next-env.d.ts, .gitignore, src/app/layout.tsx, src/app/page.tsx, src/app/globals.css, src/lib/utils.ts, src/components/ui/button.tsx, src/components/ui/card.tsx, components.json
- **Learnings for future iterations:**
  - create-next-app refuses to run in a directory with existing files â€” scaffold in /tmp and copy over
  - shadcn/ui v3.8+ supports Tailwind v4 natively, uses `@theme inline` CSS syntax
  - Turbopack shows a root warning when a parent directory also has a package-lock.json (benign)
---

## 2026-02-03 - US-002
- Installed drizzle-orm, better-sqlite3, drizzle-kit, @types/better-sqlite3
- Created drizzle.config.ts for SQLite dialect with schema at src/lib/db/schema.ts
- Created src/lib/db/index.ts with better-sqlite3 connection (WAL mode)
- Created src/lib/db/schema.ts (empty placeholder for US-003)
- Added *.db to .gitignore
- Files changed: package.json, package-lock.json, drizzle.config.ts, src/lib/db/index.ts, src/lib/db/schema.ts, .gitignore
- **Learnings for future iterations:**
  - Drizzle ORM v0.x uses `drizzle({ client: sqlite })` pattern for better-sqlite3
  - drizzle-kit uses `defineConfig` with `dialect: 'sqlite'` (not `driver`)
  - Enable WAL mode via `sqlite.pragma('journal_mode = WAL')` for better concurrent read performance
---
